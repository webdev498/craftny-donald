{"version":3,"sources":["components/firebase/context.js","components/firebase/firebase.js","components/firebase/index.js","components/feeditem.js","components/layout.js","components/favorites.js","components/auth/signout.js","components/header.js","components/auth/signup.js","components/auth/signin.js","components/app.js","index.js"],"names":["FirebaseContext","React","createContext","withFirebase","Component","props","react_default","a","createElement","Consumer","firebase","Object","assign","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","components_firebase","Firebase","_this","this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","app","initializeApp","database","FeedItemBase","state","onSaveFavorite","event","userEmail","currentUser","replace","ref","concat","id","set","url","title","author","created_utc","score","catch","error","setState","onFavorite","preventDefault","onRemoveFavorite","remove","onRemove","className","isFavoriteList","onClick","isFavorite","src","alt","moment","fromNow","FeedItem","compose","Layout","children","FeedList","feedItems","itemId","filter","_ref","data","_ref2","getFeedItems","fetch","then","response","json","feedData","console","log","_this2","err","_this3","layout_Layout","map","_ref3","key","is_favorite","FavoritesBase","item","once","faves","val","keys","faveList","favorites_Layout","length","faveItem","Redirect","to","Favorites","Link","Navigation","authUser","header_NavigationAuth","header_NavigationNonAuth","NavigationAuth","signout","NavigationNonAuth","Header","header_Navigation","SignUpPage","SignUpForm","INITIAL_STATE","passwordOne","passwordTwo","SignUpFormBase","onSubmit","_this$state","objectSpread","history","push","onChange","defineProperty","target","name","value","_this$state2","isInvalid","class","htmlFor","type","placeholder","disabled","message","SignUpLink","withRouter","SignInPage","SignInForm","signup_SignUpLink","SignInFormBase","possibleConstructorReturn","getPrototypeOf","call","App","listener","onAuthStateChanged","BrowserRouter","header_Header","Route","exact","path","component","render","layout_FeedList","Signup","Signin","SignOutButton","context","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.cb1570d7.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst FirebaseContext = React.createContext(null)\r\n\r\nexport const withFirebase = Component => props => (\r\n  <FirebaseContext.Consumer>\r\n    {firebase => <Component {...props} firebase={firebase} />}\r\n  </FirebaseContext.Consumer>\r\n)\r\nexport default FirebaseContext\r\n","import app from \"firebase/app\"\r\nimport \"firebase/auth\"\r\nimport \"firebase/database\"\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID\r\n}\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(config)\r\n\r\n    this.auth = app.auth()\r\n    this.database = app.database()\r\n  }\r\n\r\n  // *** Auth API ***\r\n\r\n  doCreateUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password)\r\n\r\n  doSignInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password)\r\n\r\n  doSignOut = () => this.auth.signOut()\r\n}\r\n\r\nexport default Firebase\r\n","import FirebaseContext, { withFirebase } from \"./context\"\r\nimport Firebase from \"./firebase\"\r\n\r\nexport default Firebase\r\n\r\nexport { FirebaseContext, withFirebase }\r\n","import React, { Component } from \"react\"\r\nimport moment from \"moment\"\r\nimport { withFirebase } from \"./firebase\"\r\nimport { compose } from \"recompose\"\r\n\r\nclass FeedItemBase extends Component {\r\n  state = {\r\n    email: \"\"\r\n  }\r\n\r\n  onSaveFavorite = event => {\r\n    const userEmail = this.props.firebase.auth.currentUser.email\r\n      .replace(\"@\", \"_\")\r\n      .replace(\".\", \"_\")\r\n    this.props.firebase.database\r\n      .ref(`users/${userEmail}/${this.props.id}`)\r\n      .set({\r\n        url: this.props.url,\r\n        title: this.props.title,\r\n        author: this.props.author,\r\n        created_utc: this.props.created_utc,\r\n        score: this.props.score\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error })\r\n      })\r\n\r\n    if (this.props.onFavorite) {\r\n      this.props.onFavorite(this.props.id);\r\n    }\r\n\r\n    event.preventDefault()\r\n  }\r\n\r\n  onRemoveFavorite = event => {\r\n    const userEmail = this.props.firebase.auth.currentUser.email\r\n      .replace(\"@\", \"_\")\r\n      .replace(\".\", \"_\")\r\n    this.props.firebase.database\r\n      .ref(`users/${userEmail}/${this.props.id}`)\r\n      .remove()\r\n      .catch(error => {\r\n        this.setState({ error })\r\n      })\r\n\r\n    if (this.props.onRemove) {\r\n      this.props.onRemove(this.props.id);\r\n    }\r\n\r\n    event.preventDefault()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"feed-item\">\r\n        <div className=\"feed-item-image-wrapper\">\r\n          {this.props.isFavoriteList ? (\r\n            <i className=\"far fa-trash-alt\" onClick={this.onRemoveFavorite} />\r\n          ) : \r\n            this.props.isFavorite && this.props.isFavorite === true ? (\r\n              <i className={`fas fa-heart favorited`} onClick={this.onRemoveFavorite} />\r\n            ) : (\r\n              <i className={`fas fa-heart`} onClick={this.onSaveFavorite} />\r\n            )\r\n          }\r\n\r\n          <img\r\n            src={this.props.url}\r\n            alt={this.props.title}\r\n            className=\"feed-item-image\"\r\n          />\r\n        </div>\r\n        <div className=\"feed-item-title\">{this.props.title}</div>\r\n        <div className=\"feed-item-meta\">\r\n          <span>\r\n            <i className=\"fas fa-user\" />\r\n            /u/{this.props.author} &bull;\r\n          </span>\r\n          <span>\r\n            <i className=\"far fa-clock\" />\r\n            {moment(this.props.created_utc * 1000).fromNow()} &bull;\r\n          </span>\r\n          <span>\r\n            <i className=\"fas fa-bolt\" />\r\n            {this.props.score}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst FeedItem = compose(withFirebase)(FeedItemBase)\r\n\r\nexport { FeedItem }\r\n","import React, { Component } from \"react\"\r\nimport { FeedItem } from \"./feeditem\"\r\n\r\nclass Layout extends Component {\r\n  render() {\r\n    return <div className=\"body-wrap\">{this.props.children}</div>\r\n  }\r\n}\r\n\r\nclass FeedList extends Component {\r\n  state = {\r\n    feedItems: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getFeedItems();\r\n  }\r\n\r\n  async getFeedItems() {\r\n    await fetch(\"https://www.reddit.com/r/analog/top/.json\")\r\n      .then(response => response.json())\r\n      .then(feedData => {\r\n        console.log(feedData)\r\n        this.setState({ feedItems: feedData.data.children })\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  onFavorite = (itemId) => {\r\n    this.setState( { feedItems : this.state.feedItems.filter(({ data }) => {\r\n      if(data.id === itemId) {\r\n        data['is_favorite'] = true;\r\n      }\r\n      return true;\r\n    }) });\r\n  }\r\n\r\n  onRemove = (itemId) => {\r\n    this.setState( { feedItems : this.state.feedItems.filter(({ data }) => {\r\n      if(data.id === itemId) {\r\n        data['is_favorite'] = false;\r\n      }\r\n      return true;\r\n    }) });\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state.feedItems);\r\n    return (\r\n      <Layout>\r\n        <div className=\"feed-list\">\r\n          {this.state.feedItems.map(({ data }) => (\r\n            <FeedItem\r\n              key={data.id}\r\n              id={data.id}\r\n              title={data.title}\r\n              url={data.url}\r\n              author={data.author}\r\n              created_utc={data.created_utc}\r\n              score={data.score}\r\n              onFavorite={this.onFavorite}\r\n              onRemove={this.onRemove}\r\n              isFavorite = { data.is_favorite }\r\n            />\r\n          ))}\r\n        </div>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport { FeedList, Layout }\r\n","import React, { Component } from \"react\"\r\nimport { FeedItem } from \"./feeditem\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport { withFirebase } from \"./firebase\"\r\nimport { compose } from \"recompose\"\r\n\r\nclass Layout extends Component {\r\n  render() {\r\n    return <div className=\"body-wrap\">{this.props.children}</div>\r\n  }\r\n}\r\n\r\nclass FavoritesBase extends Component {\r\n  state = {\r\n    feedItems: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.firebase.auth.currentUser) {\r\n      this.getFeedItems()\r\n    }\r\n  }\r\n\r\n  async getFeedItems() {\r\n    console.log(this.props)\r\n    const userEmail = this.props.firebase.auth.currentUser.email\r\n      .replace(\"@\", \"_\")\r\n      .replace(\".\", \"_\")\r\n    this.props.firebase.database\r\n      .ref(`users/${userEmail}`)\r\n      .once(\"value\")\r\n      .then(data => {\r\n        const faves = data.val()\r\n        return Object.keys(faves).map(key => {\r\n          faves[key].id = key\r\n          return faves[key]\r\n        })\r\n      })\r\n      .then(faveList => {\r\n        this.setState({ feedItems: faveList })\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  onRemove = itemId => {\r\n    this.setState( { feedItems : this.state.feedItems.filter(item => item.id !== itemId) } );\r\n  }\r\n\r\n  render() {\r\n    return this.props.firebase.auth.currentUser ? (\r\n      <Layout>\r\n        <div className=\"feed-list\">\r\n          {this.state.feedItems.length > 0 ?\r\n          (this.state.feedItems.map(faveItem => {\r\n            console.log(this.state.feedItems)\r\n            return (\r\n              <FeedItem\r\n                key={faveItem.id}\r\n                id={faveItem.id}\r\n                title={faveItem.title}\r\n                url={faveItem.url}\r\n                author={faveItem.author}\r\n                created_utc={faveItem.created_utc}\r\n                score={faveItem.score}\r\n                isFavoriteList=\"true\"\r\n                onRemove={this.onRemove}\r\n              />\r\n            )\r\n          })) : (\r\n            <div className=\"faves-empty\">No favorites yet.</div>\r\n          )}\r\n        </div>\r\n      </Layout>\r\n    ) : (\r\n      <Redirect to=\"/signin\" />\r\n    )\r\n  }\r\n}\r\n\r\nconst Favorites = compose(withFirebase)(FavoritesBase)\r\n\r\nexport { Favorites }\r\n","import React from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { withFirebase } from \"../firebase\"\r\n\r\nconst SignOutButton = ({ firebase }) => (\r\n  <Link to=\"#\" onClick={firebase.doSignOut}>Sign Out</Link>\r\n)\r\n\r\nexport default withFirebase(SignOutButton)\r\n","import React from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport SignOutButton from \"./auth/signout\"\r\n\r\nconst Navigation = ({ authUser }) => (\r\n  <div className=\"nav-options\">\r\n    {authUser ? <NavigationAuth authUser={authUser} /> : <NavigationNonAuth />}\r\n  </div>\r\n)\r\n\r\nconst NavigationAuth = ({authUser}) => (\r\n  <div className=\"nav-container\">\r\n    <div className=\"navigation-bar\">\r\n      <Link to=\"/feed\">\r\n        <i className=\"fab fa-reddit-alien\" />\r\n        /r/analog\r\n      </Link>\r\n      <Link to=\"/favorites\">\r\n        <i className=\"fas fa-heart\" /> favorites\r\n      </Link>\r\n    </div>\r\n    <div className=\"nav-buttons\">\r\n      <SignOutButton />\r\n    </div>\r\n  </div>\r\n)\r\n\r\nconst NavigationNonAuth = () => (\r\n  <div className=\"nav-container\">\r\n    <div className=\"navigation-bar\">\r\n      <Link to=\"/feed\">\r\n        <i className=\"fab fa-reddit-alien\" />\r\n        /r/analog\r\n      </Link>\r\n    </div>\r\n    <div className=\"nav-buttons\">\r\n      <Link to=\"/signin\">Sign In</Link>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nconst Header = props => (\r\n  <header className=\"header\">\r\n    <Navigation authUser={props.authUser} />\r\n  </header>\r\n)\r\n\r\nexport { Header }\r\n","import React, { Component } from \"react\"\r\nimport { Link, withRouter } from \"react-router-dom\"\r\nimport { withFirebase } from \"../firebase\"\r\nimport { compose } from \"recompose\"\r\n\r\nconst SignUpPage = () => (\r\n  <div>\r\n    <h1>SignUp</h1>\r\n    <SignUpForm />\r\n  </div>\r\n)\r\n\r\nconst INITIAL_STATE = {\r\n  email: \"\",\r\n  passwordOne: \"\",\r\n  passwordTwo: \"\",\r\n  error: null\r\n}\r\n\r\nclass SignUpFormBase extends Component {\r\n  state = { ...INITIAL_STATE }\r\n\r\n  onSubmit = event => {\r\n    const { email, passwordOne } = this.state\r\n\r\n    this.props.firebase\r\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n      .then(authUser => {\r\n        this.setState({ ...INITIAL_STATE })\r\n        this.props.history.push(\"/\")\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error })\r\n      })\r\n\r\n    event.preventDefault()\r\n  }\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value })\r\n  }\r\n\r\n  render() {\r\n    const { email, passwordOne, passwordTwo, error } = this.state\r\n    const isInvalid =\r\n      passwordOne !== passwordTwo ||\r\n      passwordOne === \"\" ||\r\n      email === \"\"\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} className=\"body-wrap\">\r\n        <div class=\"form-group\">\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={this.onChange}\r\n            type=\"text\"\r\n            placeholder=\"Email Address\"\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            name=\"passwordOne\"\r\n            value={passwordOne}\r\n            onChange={this.onChange}\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label htmlFor=\"passwordTwo\">Confirm password</label>\r\n          <input\r\n            name=\"passwordTwo\"\r\n            value={passwordTwo}\r\n            onChange={this.onChange}\r\n            type=\"password\"\r\n            placeholder=\"Confirm Password\"\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <button disabled={isInvalid} type=\"submit\">\r\n            Sign Up\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          {error && <p>{error.message}</p>}\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst SignUpLink = () => (\r\n  <p className=\"body-wrap\">\r\n    Don't have an account? <Link to=\"/signup\">Sign Up</Link>\r\n  </p>\r\n)\r\n\r\nconst SignUpForm = compose(\r\n  withRouter,\r\n  withFirebase\r\n)(SignUpFormBase)\r\n\r\nexport { SignUpPage, SignUpForm, SignUpLink }\r\n","import React, { Component } from \"react\"\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { compose } from \"recompose\"\r\n\r\nimport { SignUpLink } from \"./signup\"\r\nimport { withFirebase } from \"../firebase\"\r\n\r\nconst SignInPage = () => (\r\n  <div className=\"body-wrap\">\r\n\r\n    <SignInForm />\r\n    <SignUpLink />\r\n  </div>\r\n)\r\n\r\nconst INITIAL_STATE = {\r\n  email: \"\",\r\n  password: \"\",\r\n  error: null\r\n}\r\n\r\nclass SignInFormBase extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = { ...INITIAL_STATE }\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { email, password } = this.state\r\n\r\n    this.props.firebase\r\n      .doSignInWithEmailAndPassword(email, password)\r\n      .then(authUser => {\r\n        console.log(authUser)\r\n        this.setState({ ...INITIAL_STATE })\r\n        this.props.history.push(\"/\")\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error })\r\n      })\r\n\r\n    event.preventDefault()\r\n  }\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value })\r\n  }\r\n\r\n  render() {\r\n    const { email, password, error } = this.state\r\n\r\n    const isInvalid = password === \"\" || email === \"\"\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} className=\"body-wrap\">\r\n        <input\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n        />\r\n        <input\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n        />\r\n        <button disabled={isInvalid} type=\"submit\">\r\n          Sign In\r\n        </button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst SignInForm = compose(\r\n  withRouter,\r\n  withFirebase\r\n)(SignInFormBase)\r\n\r\nexport { SignInForm, SignInPage }\r\n","import React, { Component } from \"react\"\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\"\r\nimport { FeedList } from \"./layout\"\r\nimport { Favorites } from \"./favorites\"\r\nimport { Header } from \"./header\"\r\nimport { Signin, Signup, SignOutButton } from \"./auth/auth\"\r\nimport { withFirebase } from \"./firebase\"\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      authUser: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.listener = this.props.firebase.auth.onAuthStateChanged(authUser => {\r\n      authUser ? this.setState({ authUser }) : this.setState({ authUser: null })\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.listener()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <div>\r\n          <Header authUser={this.state.authUser} />\r\n          <Route exact path=\"/\" component={FeedList} />\r\n          <Route\r\n            path=\"/feed\"\r\n            render={props => <FeedList {...props} authUser={this.state} />}\r\n          />\r\n          <Route\r\n            path=\"/favorites\"\r\n            render={props => <Favorites {...props} authUser={this.state} />}\r\n          />\r\n          {/* <ProtectedRoute\r\n            path=\"/favorites\"\r\n            component={Favorites}\r\n            authUser={this.state.authUser}\r\n            firebase={this.state.firebase}\r\n          /> */}\r\n          <Route path=\"/signup\" component={Signup} />\r\n          <Route path=\"/signin\" component={Signin} />\r\n          <Route path=\"/signout\" component={SignOutButton} />\r\n        </div>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\n// render(\r\n//   <FirebaseContext.Provider value={new Firebase()}>\r\n//     <App />\r\n//   </FirebaseContext.Provider>,\r\n//   document.getElementById(\"root\")\r\n// )\r\nexport default withFirebase(App)\r\n","import React from \"react\"\r\nimport { render } from \"react-dom\"\r\nimport Firebase, { FirebaseContext } from \"./components/firebase\";\r\n\r\nimport \"./index.scss\"\r\n\r\nimport App from \"./components/app\"\r\n\r\nrender(\r\n  <FirebaseContext.Provider value={new Firebase()}>\r\n    <App />\r\n  </FirebaseContext.Provider>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}